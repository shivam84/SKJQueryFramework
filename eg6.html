<!Doctype HTML>
<html lang='en'>
<head>
<title>AJAX example</title>
<script>
var panels=[];
var x=-1;
function accordianHeadingClicked(i)
{
if(x!=-1) panels[x].style.display='none';
panels[i+1].style.display=panels[i+1].oldDisplay;
x=i+1;

}
function fun()
{
let accordian=document.getElementById('mymy');
let children=accordian.childNodes;
for(var i=0;i<children.length;i++)
{
//alert(children[i].nodeName);
if(children[i].nodeName=="H3") panels[panels.length]=children[i];
if(children[i].nodeName=="DIV") panels[panels.length]=children[i];
}
if(panels.length%2!=0) throw "Some ambigious arrangement in panels";
for(var i=0;i<panels.length;i+=2)
{
if(panels[i].nodeName!="H3") throw "Some ambigious arrangement in panels";
if(panels[i+1].nodeName!="DIV") throw "Some ambigious arrangement in panels";
}
function createClickHandler(i)
{
return function(){
accordianHeadingClicked(i);
}
} 
for(var i=0;i<panels.length;i+=2)
{
panels[i].onclick=createClickHandler(i);
panels[i+1].oldDisplay=panels[i+1].style.display;
panels[i+1].style.display='none';
}

}
window.addEventListener('load',fun)
</script>
</head>
<body>
<h1>Accordian pane</h1>
<div id='mymy'><h3>Heading 1</h3>
<div>
somesome1 somesome1 somesome1<br>
somesome1 somesome1 somesome1<br>
somesome1 somesome1 somesome1
</div>
<h3>Heading 2</h3>
<div>
somesome2 somesome2 somesome2 <br>
somesome2 somesome2 somesome2 <br>
somesome2 somesome2 somesome2

</div>
<h3>Heading 3</h3>
<div>
somesome3 somesome3 somesome3 <br>
somesome3 somesome3 somesome3 <br>
somesome3 somesome3 somesome3

</div>
</div>
</body>
</html>